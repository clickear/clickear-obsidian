


# 计算机组成与结构
## 计算机系统知识
### 计算机硬件组成

+ 运算器
+ 控制器
+ 存储器 (内部存储器（内存，容量小，速度快） 和外部存储器 (硬盘、光盘。容量大，速度慢))
+ 输入设备(鼠标、键盘)
+ 输出设备(显示器)

## 中英处理单元（CPU）

## cpu如何执行程序？
 1. cpu如何区分 0110 是地址还是数据还是指令？
看数据从哪里来，总线可分为3种类型
地址总线: 说明是地址
数据总线：说明是数据
控制总线:  说明是控制信号。比如控制是读还是写操作等。

2. 主存储器与cpu如何交互？
注意: MDR 是双向的。也就是可以读写。MAR是单向的

![](http://image.clickear.top/20220321102742.png)

### 指令周期
原则: 
+ 指令 = 操作码 + 操作数
+ 通过MAR --> 地址总线，来定位地址
+ 通过控制总线， --> 传输读/写信号
+ 通过MDR --> 数据总线 --> 主存 。进行数据交互
+ 1. PC （保存指令地址） --> MAR --> 地址总线 --> 定位到地址
+ 2. 控制信息，发送读信号。 主存 --> 数据总线 --> MDR --> IR(存放指令)
+ 3. CU发出指令 --> PC内容 +1

指令译码器，解析操作码。




#### 取指周期 (取指令)
![](http://image.clickear.top/20220321102203.png)
#### 间址周期(取操作数的有效地址)
![](http://image.clickear.top/20220321104444.png)

![](http://image.clickear.top/20220321110526.png)

#### 执行周期（取操作数）

#### 中断周期(为了保程序断点)


cpu(运算器 + 控制器 + 寄存器组 + 内部总线)

cpu功能: 实现 程序控制、操作控制、时间控制、数据处理功能

### 运算器:
功能: 
执行所有的算术运算、加减乘除。执行位运算
#### 算术逻辑单元 ALU
实现对数据的算术和逻辑运算
#### 累积寄存器AC: 
运算结果或源操作数的存放区
#### 数据缓存寄存器(DR)
暂时存放内存的指令或数据
#### 状态条件寄存器
保存指令结果的条件吗内容，如溢出标志


### 控制器⭐
功能:
程序控制、时序控制
#### 指令寄存器IR: 
暂存CPU执行指令
#### 程序计数器PC: 
存放指令执行地址
#### 地址寄存器AR: 
保存当前CPU所访问的内存地址
#### 指令译码器ID: 
分析指令操作码等组成


## 寻址方式 ⭐
![](http://image.clickear.top/20220321101819.png)


直接寻址 --> [500] = 800
立即寻址 --> 500
间接寻址 --> [ [500]] = [800] =


## 数据表示
在计算机中的表示，在计算机中，都是二进制

## 数的编码方式
原码： +0 和 -0;
反码: 正数的反码 = 原码 。 负数的原码: 除符号位外，其它各位按位取反。
+0 (0 0000000); -0(1 1111111)
补码: 正数的补码 = 原码。 负数的补码 在原码基础上，除符号位外，其它各位按位取反，而后末位 +1; +0 = -0 = (00000000)
移码: 用作浮点运算。无论正负数，都是将该原码的补码的首位(符号位)取反得到移码

### 数的范围: 

## 浮点数的标识 ⭐
浮点数: N= F * 2^E;    E 是阶码， F称为尾数。
数值<font color=#ff0000>范围</font>由<font color=#ff0000>阶码</font>确定，数值的<font color=#ff0000>精度</font>是由<font color=#ff0000>尾数</font>确定

规格化 尾数
1.0 负数 0.1xxxx 正数

浮点数运算:
1. <font color=#ff0000>对阶</font>，小阶向大阶看起。尾数较少。尾数右移几位。
2. 尾数计算(相加，若是减运算，则加负数)
3. 结果规格化(即尾数表示规格化)

## 算术运算和逻辑运算(运算器的作用)
算术运算: 加减乘除
逻辑运算: & | 异或 非 <<左移 >> 右移。 会舍弃


## 校验码
码距: 在2个编码中，从A码到B码所需要改变的位数。如 A:00 变成B: 11。码距为2.<font color=#ff0000>一般码距越大，越有利于纠错和检测</font>。

+ 奇偶校验 (只能检错，不能纠错。可以检出<font color=#ff0000>1</font>位): 在编码中，增加1位校验位来使编码中1的个数为奇数、或偶数。只能检<font color=#ff0000>1</font>位错。
+ 循环冗余校验码 (CRC，只能检错，不能纠错。可以检出<font color=#ff0000>多</font>位)。

+ 海明校验码(利用奇偶性来检查和纠错): 
2^k -1 >=  n+k


## 计算机体系结构
## 计算机体系分类

flynn分类
指令流、数据流来进行分类。

指令流， 控制部分。 多个指导
数据流， 处理器。    处理事情
主存模块，只有有多就是多。


## 计算机指令
计算机指令组成:  操作码和操作数组成。

取指令--> 分析指令 --> 执行指令

## 指令系统 ⭐
CISC（复杂指令系统， 数量多，使用频率差别大，可变长格式。 ）
RISC(精简指令系统， 数量少，使用频率接近定长格式)

复杂指令:  微程序控制。
精简: 增加通用寄存器。采用执行速度更快的组合逻辑实现控制器

## 指令流水线 ⭐
+ 流水线周期: 指令分成不同阶段，执行时间最长的段位流水线周期
+ 流水线执行时间: <font color=#ff0000>1条指令总执行时间 + (总指令条数-1) * 流水线周期</font>
+ 流水线吞吐率 = 总任务/总执行时间
+ 加速比= 不使用流水线时间/ 使用流水线时间

## 存储系统
存储容量、成本和速度的矛盾问题。
cpu --> 通用寄存器 --> cache --> 主存 --> 磁盘 

### 局部性原理
时间局部性原理： 相邻的时间内会访问同一个数据项
空间局部性原理: 相邻的空间地址会被连续访问

## 高速缓存cache

地址映射：在cpu工作时，都是根据主存单位的地址。需要进行映射，是由<font color=#ff0000>硬件自动完成映射</font>。
+ 直接映射: 
+ 全相连映射
+ 组组相连映射: 

## cachae命令率

2^10 = 1024

## 总线结构

串行: 低速、长距离
并行: 高速、短距离

半双工: 同一时刻只能一个方向传输
全双工: 同一时刻，可以双向传输

## 系统可靠性分析 ⭐